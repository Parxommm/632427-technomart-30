const mapOpen=document.querySelector(".company__contacts-link"),mapPopup=document.querySelector(".modal--map"),mapClose=mapPopup.querySelector(".modal__btn-close");mapOpen.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(o){27===o.keyCode&&mapPopup.classList.contains("modal-show")&&(o.preventDefault(),mapPopup.classList.remove("modal-show"))});const formOpen=document.querySelector(".btn--write-to-us"),formPopup=document.querySelector(".modal--form"),formClose=formPopup.querySelector(".modal__btn-close"),formForm=formPopup.querySelector(".modal__form"),formName=formPopup.querySelector("#modal__form-name"),formEmail=formPopup.querySelector("#modal__form-email"),formText=formPopup.querySelector("#modal__form-text");let isStorageSupport=!0,storage1="",storage2="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(o){isStorageSupport=!1}formOpen.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.add("modal-show"),storageName?(formName.value=storageName,formEmail.focus()):formName.focus(),storageEmail?(formEmail.value=storageEmail,formText.focus()):formEmail.focus()}),formClose.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error")}),formPopup.addEventListener("submit",function(o){formName.value&&formEmail.value&&formText.value?isStorageSupport&&(localStorage.setItem("name",formName.value),localStorage.setItem("email",formEmail.value)):(o.preventDefault(),formPopup.classList.remove("modal-error"),formPopup.offsetWidth=formPopup.offsetWidth,formPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&formPopup.classList.contains("modal-show")&&(o.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error"))});
